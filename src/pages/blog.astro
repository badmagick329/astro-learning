---
import Layout from "../layouts/Layout.astro";
import Navbar from "../components/Navbar.astro";
import MainHeading from "../components/MainHeading.astro";
import BlogPostLink from "../components/BlogPostLink.astro";
import type { Post } from "../types/post";

const allPosts = Object.values(
  import.meta.glob<Post>("./posts/*.md", {
    eager: true,
  }),
);
---

<Layout title="Home" description="Welcome to the Astro homepage">
  <main class="mt-8 flex flex-col items-center gap-4">
    <Navbar />
    <MainHeading content="Blog" />
    <p class="mt-8">I am learning astro ðŸš€</p>
    <ul class="mt-8 flex flex-col justify-center gap-6">
      {
        allPosts.map((p) => (
          <BlogPostLink url={p.url || ""} title={p.frontmatter.title} />
        ))
      }
    </ul>
  </main>
</Layout>
